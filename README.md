# mami-exam-vulpix
VULnerable Payment application X


## Установка
1. Скопировать себе репозиторий
2. Поставить PHP7, в том числе `php-fpm`, `php-mysql`, `php-gd2`,`php-mbstring`,`php-xml`,`php-curl`
3. Поставить `nginx`
4. Настроить nginx и php (стандартные настройки)
5. запустить скрипт `install.sh`, который подтянет все нужные зависимости и скопирует конфиги.

## Как зайти
Тестовый логин и пароль - ivanov/1

## Какие есть уязвимости

**Не читайте, пока не попробовали взломать!!!**

* уязвимая капча - код для неё явно передаётся в картинку и ставится в куки
* SQL injection в поле суммы платежа
* Ещё один SQL injection через куки сессии на странице профиля
* папка backup с данными пользователей и данными по транзакциям
* папка phpMyAdmin с настроенной авторизацией
* открытые данные composer, из которых можно собственно найти phpMyAdmin
* загрузка в директорию tmp как пережатых, так и исходных файлов, проверка исходных идёт только по майм тайпу
* файл test.php с раскрытием данных phpinfo
* все заголовки несекьюрны, куки ставится без httpOnly, не используется SSL
* нигде нет никаких проверок на XSS
* в качестве токена используется md5 от логина. Очень, очень небезопасно!
* Включен вывод ошибок, что помогает хакеру и раскрывает пути на сервере
* По выданному паролю и дампу понятно, что парольная политика на сервисе отсутствует

